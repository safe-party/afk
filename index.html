<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MCQ Reference</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; background:#f2f2f2; }
        #container { max-width: 900px; margin: auto; }
        .question { background:#fff; padding:20px; margin-bottom:20px; border-radius:8px; box-shadow:0 2px 4px rgba(0,0,0,0.1); }
        .question h3 { margin-top:0; }
        .options { list-style-type:none; padding-left:0; }
        .options li { margin:4px 0; }
        .options li.correct { color:green; font-weight:bold; }
        .explanation { margin-top:10px; color:#555; }
    </style>
</head>
<body>
<div id="container"></div>
<script>
let questions = [];
function parseQuestions(text){
    const lines = text.split(/\r?\n/);
    const qRegex = /^###\s+Question\s+(\d+):/;
    const optionRegex = /^\s*(?:\*\*)?([A-D])\.\s*(.+?)(?:\*\*)?$/;
    let i=0;
    while(i<lines.length){
        const qMatch = lines[i].match(qRegex);
        if(qMatch){
            const number=parseInt(qMatch[1],10); i++; let qText='';
            while(i<lines.length && !optionRegex.test(lines[i])){ qText+=lines[i].trim()+' '; i++; }
            const options=[]; let correct=-1;
            while(i<lines.length && optionRegex.test(lines[i])){
                const line=lines[i];
                const isCorrect=/^\s*\*\*/.test(line);
                const match=line.replace(/\*\*/g,'').match(/^([A-D])\.\s*(.+)$/);
                if(match){ options.push(match[2].trim()); if(isCorrect) correct=options.length-1; }
                i++; }
            let explanation='';
            if(i<lines.length && lines[i].toLowerCase().includes('explanation')){ i++; while(i<lines.length && !/^---/.test(lines[i]) && !qRegex.test(lines[i])){ explanation += lines[i]+'\n'; i++; } }
            while(i<lines.length && /^---/.test(lines[i])) i++;
            questions.push({number,qText:qText.trim(),options,correct,explanation:explanation.trim()});
        } else { i++; }
    }
}
function renderQuestions(){
    const container=document.getElementById('container');
    questions.forEach(q=>{
        const div=document.createElement('div');
        div.className='question';
        const h=document.createElement('h3');
        h.textContent='Question '+q.number;
        div.appendChild(h);
        const p=document.createElement('p');
        p.textContent=q.qText;
        div.appendChild(p);
        const ul=document.createElement('ul');
        ul.className='options';
        q.options.forEach((opt,idx)=>{
            const li=document.createElement('li');
            li.textContent=String.fromCharCode(65+idx)+'. '+opt;
            if(idx===q.correct) li.className='correct';
            ul.appendChild(li);
        });
        div.appendChild(ul);
        if(q.explanation){
            const exp=document.createElement('div');
            exp.className='explanation';
            exp.textContent=q.explanation;
            div.appendChild(exp);
        }
        container.appendChild(div);
    });
}
fetch('combined%20qs.md').then(r=>r.text()).then(t=>{parseQuestions(t);renderQuestions();});
</script>
</body>
</html>
